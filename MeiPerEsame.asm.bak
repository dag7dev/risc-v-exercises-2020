# Damiano Gualandri - 2020

# Dato un array di n interi in memoria e un intero x, scrivere un 
# programma Risc-V che stampa il numero di volte che x appare
# nell'array.

# Nel caso dell'esempio qui sopra il valore da stampare Ã¨ 2.

.data
a: .word 7, 8, -2, 0, 12, 9, 8
n: .word 0
x: .word 1

.text 
	    la t0, a	    # carico in memoria l'indirizzo della lista
    	lw t1, n	    # carico in memoria len lista
	    lw t2, x    	# carico in memoria il valore da confrontare
    	addi t4, zero, 0	# azzero il contatore delle occorrenze (t4)

        # L'idea:
    	# un do...while

su:	    lw t3, 0(t0)	        # carico elemento in memoria
  	
  	    beq t3, t2, uguali	    # controllo se ho trovato il valore
  	    beq zero, zero, salto	# altrimenti salto

uguali: addi t4, t4, 1		# incremento il contatore uguaglianze
salto:  addi t0, t0, 4		# incremento il puntatore del vettore
	    
	    addi t1, t1, -1		# decremento il contatore dei confronti
	
    	bne t1, zero, su	# valuto se tornare su


	# sono uscito: ora stampo il contatore delle occorrenze ed esco
	mv a0, t4   # sposto il contatore delle occorenze in a0
	
	li a7, 1    # stampo
	ecall
	
	li a7, 10   # esco
	ecall
    	
    	
    	
    	
    	
